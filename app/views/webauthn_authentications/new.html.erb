
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-primary text-white text-center">
          <h4 class="mb-0">
            <i class="bi bi-fingerprint me-2"></i>WebAuthn認証ログイン
          </h4>
        </div>
        <div class="card-body">
          <div class="mb-4">
            <label for="email" class="form-label">メールアドレス</label>
            <div class="input-group">
              <input type="email" id="email-input" class="form-control" placeholder="メールアドレスを入力" required>
              <button id="webauthn-login-btn" class="btn btn-primary">
                <i class="bi bi-shield-check me-2"></i>WebAuthn認証
              </button>
            </div>
          </div>

          <!-- 認証状態の表示エリア -->
          <div id="auth-status" class="d-none"></div>

          <div class="text-center">
            <small class="text-muted">
              WebAuthn認証が設定されているアカウントのみ利用できます
            </small>
          </div>

          <hr>

          <div class="text-center">
            <%= link_to "新規登録", new_user_registration_path, class: "btn btn-outline-primary" %>
          </div>
        </div>
      </div>

      <div class="card mt-4">
        <div class="card-body">
          <h6><i class="bi bi-info-circle me-2"></i>WebAuthn認証について</h6>
          <ul class="small mb-0">
            <li>パスワードなしでより安全にログインできます</li>
            <li>指紋認証、顔認証、セキュリティキーが利用可能</li>
            <li>フィッシング攻撃に対して高い耐性があります</li>
            <li>新規登録後にWebAuthn認証の設定が必要です</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- JavaScriptで使用するパスを隠しエレメントに配置 -->
<script type="text/plain" id="webauthn-check-path"><%= new_webauthn_authentication_path %></script>
<script type="text/plain" id="webauthn-auth-path"><%= webauthn_authentications_path %></script>
<script type="text/plain" id="root-path"><%= root_path %></script>