{"version":3,"file":"new-Df5F4foJ.js","sources":["../../../app/javascript/entrypoints/new.js"],"sourcesContent":["// app/javascript/entrypoints/new.js\nimport '../passkey'\n\n// CodeMirror 初期化完了イベントを受け取り、フォールバック確認の誤検知を防ぐ\nif (typeof window !== 'undefined') {\n  window.__cmReady = false\n  document.addEventListener('code-editor:ready', (e) => {\n    // フラグを立て、必要なら参照を保持（デバッグ用途）\n    window.__cmReady = true\n    window.__cmView = e?.detail?.view || null\n    // console.debug('[new] CodeMirror ready event received', window.__cmView)\n  })\n\n  // 後追い確認（イベントを聞き逃した場合でも DOM のフラグ/参照で確定）\n  queueMicrotask?.(() => {\n    const el = document.querySelector('[data-controller~=\"code-editor\"]')\n    if (!window.__cmReady && el) {\n      if (el.dataset.codemirrorReady === 'true') window.__cmReady = true\n      if (!window.__cmReady && window.codeEditorInstances) {\n        const v = window.codeEditorInstances.get(el)\n        if (v) {\n          window.__cmReady = true\n          window.__cmView = v\n        }\n      }\n    }\n  })\n}\n"],"names":["_a","el","v"],"mappings":"8BAII,OAAO,OAAW,MACpB,OAAO,UAAY,GACnB,SAAS,iBAAiB,oBAAsB,GAAM,OAEpD,OAAO,UAAY,GACnB,OAAO,WAAWA,EAAA,iBAAG,SAAH,YAAAA,EAAW,OAAQ,IAEvC,CAAC,EAGD,qCAAiB,IAAM,CACrB,MAAMC,EAAK,SAAS,cAAc,kCAAkC,EACpE,GAAI,CAAC,OAAO,WAAaA,IACnBA,EAAG,QAAQ,kBAAoB,SAAQ,OAAO,UAAY,IAC1D,CAAC,OAAO,WAAa,OAAO,qBAAqB,CACnD,MAAMC,EAAI,OAAO,oBAAoB,IAAID,CAAE,EACvCC,IACF,OAAO,UAAY,GACnB,OAAO,SAAWA,EAEtB,CAEJ"}